# 🔑 Local Supabase Keys Location Guide

## 📍 Where Your Local Keys Are Stored

### 🏠 **PRIMARY SOURCE: Docker Configuration**
```
📁 supabase/docker/.env
```
This is the **MASTER configuration** for your local Supabase Docker setup.

**View the keys:**
```bash
cat supabase/docker/.env | grep -E "(ANON_KEY|SERVICE_ROLE_KEY)"
```

**Current values:**
```bash
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey AgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MVc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE

SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey AgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q
```

### 🏗️ **YOUR APP CONFIG: Next.js Environment**
```
📁 .env.local
```
This is where your **Next.js app** reads the keys from.

**View your current config:**
```bash
grep -E "(ANON_KEY|SERVICE_ROLE_KEY)" .env.local
```

## 🔄 **How They're Connected**

### 1. **Docker Setup** (Master Source)
```
supabase/docker/.env
├── ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
└── SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 2. **Your App Config** (Copy for Next.js)
```
.env.local
├── NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
└── SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

## 🎯 **Key Facts About These Keys**

### ✅ **What They Are:**
- **Generated by Supabase Docker** when you first ran `docker compose up`
- **Demo/Development keys** (safe for local development)
- **Completely independent** from any remote Supabase
- **Work only with your local instance**

### 🔒 **JWT Token Details:**
If you decode these JWT tokens, you'll see:

**ANON_KEY payload:**
```json
{
  "role": "anon",
  "iss": "supabase-demo",
  "iat": 1641769200,
  "exp": 1799535600
}
```

**SERVICE_ROLE_KEY payload:**
```json
{
  "role": "service_role",
  "iss": "supabase-demo", 
  "iat": 1641769200,
  "exp": 1799535600
}
```

Notice: `"iss": "supabase-demo"` - This proves they're local demo keys!

## 📂 **All Files That Have These Keys**

### 🎯 **Important Files:**
```bash
supabase/docker/.env              # Master source (Docker)
.env.local                        # Your Next.js app config
```

### 📋 **Backup Files:**
```bash
.env.local.backup                 # Your previous config
.env.local.remote-backup          # Remote Supabase backup
.env.local.backup-before-purely-local # Before switching to local
```

## 🛠️ **How to Update Keys**

### **If you want to change the local keys:**

1. **Update Docker configuration:**
```bash
# Edit the master file
nano supabase/docker/.env
```

2. **Restart Supabase:**
```bash
cd supabase/docker
docker compose down
docker compose up -d
```

3. **Update your app config:**
```bash
# Copy new keys to .env.local
./switch-to-purely-local.sh
```

## 🔍 **Quick Commands to View Keys**

### **View Docker keys:**
```bash
cd supabase/docker && cat .env | grep -E "(ANON_KEY|SERVICE_ROLE_KEY)"
```

### **View app keys:**
```bash
grep -E "SUPABASE.*KEY" .env.local
```

### **Compare them:**
```bash
echo "=== DOCKER KEYS ==="
cd supabase/docker && cat .env | grep -E "(ANON_KEY|SERVICE_ROLE_KEY)"
echo "=== APP KEYS ==="
cd .. && grep -E "SUPABASE.*KEY" .env.local
```

## ✨ **Summary**

🏠 **Source**: `supabase/docker/.env` (generated by Docker)  
📱 **Used by**: `.env.local` (your Next.js app)  
🔑 **Type**: Local demo keys (not from remote Supabase)  
💰 **Cost**: $0 (completely free)  
🌐 **Dependency**: None (works offline)  

**🎯 Bottom line:** These keys live on your computer, work only locally, and have zero connection to Supabase cloud! 